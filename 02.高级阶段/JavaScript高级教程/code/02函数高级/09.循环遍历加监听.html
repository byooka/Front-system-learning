<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <button>测试1</button>
  <button>测试2</button>
  <button>测试3</button>
  <script>
    var btns = document.getElementsByTagName('button')
    // 遍历监听
    // i < btns.length: btns是伪数组，每次都需要统计计算。放到外面只计算一次
    for (var i = 0, length=btns.length; i < length; i++) {
      var btn = btns[i]
      btn.onclick = function() {
        alert('第'+ (i + 1) + '个按钮')
      }
    }
    // 就一个全局i
    // console.log(i)

    // for (var i = 0, length=btns.length; i < length; i++) {
    //   var btn = btns[i]
    //   btn.index = i
    //   btn.onclick = function() {
    //     alert('第'+ (this.index + 1) + '个按钮')
    //   }
    // }

    // var 改成 let, 块级作用域

    // for (var i = 0, length=btns.length; i < length; i++) {
    //   (function (i) {
    //     // 局部i
    //     var btn = btns[i]
    //     btn.onclick = function() {
    //       alert('第'+ (i + 1) + '个按钮')
    //     }
    //   })(i)  // 全局i
    // }
  </script>
</body>
</html>