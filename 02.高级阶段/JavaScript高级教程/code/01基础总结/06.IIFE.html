<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /* IIFE: Immediately-Invoked Function Expression
    1.作用：隐藏实现；不会污染外部（全局）命名空间；编写js模块
    */
    // 括起来看成一个函数整体执行
    // 匿名函数自调用
    (function() {
      var a = 3
      console.log(a + 3)
    })()
    var a = 4
    console.log(a)

    // 不写分号报错，和前面语句连在一起
    ;(function() {
      var a = 1
      function test() {
        console.log(++a)
      }
      function test2() {
        console.log(a + 2)
      }
      // 向外暴露一个全局函数
      window.$ = function() {
        return {
          test: test
        }
      }
    })()
    // $是一个函数；执行后返回一个对象，拥有test方法
    $().test()
  </script>
</body>
</html>